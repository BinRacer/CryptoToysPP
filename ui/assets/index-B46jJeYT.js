const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/crypto-DoVc5HiG.js","assets/element-plus-icons-BcHgeD8x.js","assets/vue-BIzKO8mN.js","assets/element-plus-ktg67pxk.js","assets/lodash-vendor-S0Y0Up6J.js","assets/vendor-wFbPd71c.js","assets/element-plus-BIHauc6T.css","assets/crypto-BhsL09-9.css"])))=>i.map(i=>d[i]);
import{a as C,x as fe,h as Y,l as me,c as D,b as P,o as V,w as n,T as k,d as t,e as m,u as w,V as H,g as s,W as pe,U as W,t as z,j as F,f as h,aw as ve,F as ce,k as xe,ax as c,at as ye}from"./vue-BIzKO8mN.js";import{i as Ee}from"./element-plus-ktg67pxk.js";import{V as L,k as X,T as M,W as ge,m as J,X as Ae,Y as Re,Z as we}from"./element-plus-icons-BcHgeD8x.js";import"./lodash-vendor-S0Y0Up6J.js";import"./vendor-wFbPd71c.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))u(a);new MutationObserver(a=>{for(const _ of a)if(_.type==="childList")for(const f of _.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&u(f)}).observe(document,{childList:!0,subtree:!0});function r(a){const _={};return a.integrity&&(_.integrity=a.integrity),a.referrerPolicy&&(_.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?_.credentials="include":a.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function u(a){if(a.ep)return;a.ep=!0;const _=r(a);fetch(a.href,_)}})();const Pe="modulepreload",Se=function(i){return"/"+i},ee={},x=function(d,r,u){let a=Promise.resolve();if(r&&r.length>0){let f=function(y){return Promise.all(y.map(A=>Promise.resolve(A).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const v=document.querySelector("meta[property=csp-nonce]"),E=(v==null?void 0:v.nonce)||(v==null?void 0:v.getAttribute("nonce"));a=f(r.map(y=>{if(y=Se(y),y in ee)return;ee[y]=!0;const A=y.endsWith(".css"),S=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${S}`))return;const g=document.createElement("link");if(g.rel=A?"stylesheet":Pe,A||(g.as="script"),g.crossOrigin="",g.href=y,E&&g.setAttribute("nonce",E),document.head.appendChild(g),A)return new Promise((N,O)=>{g.addEventListener("load",N),g.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${y}`)))})}))}function _(f){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=f,window.dispatchEvent(v),!v.defaultPrevented)throw f}return a.then(f=>{for(const v of f||[])v.status==="rejected"&&_(v.reason);return d().catch(_)})},Ie={class:"drawer-header"},Te={class:"sidebar-header"},Ve={class:"header-content"},be={class:"toolbar"},Ce={class:"user-info"},Oe={class:"content-card"},De={key:0,class:"welcome-container"},Le={class:"welcome-card"},Be={class:"feature-grid"},ke=["onClick"],He={class:"feature-icon"},Me={class:"feature-title"},Ue={class:"feature-desc"},je={class:"action-hint"},qe={__name:"App",setup(i){const d=C(window.innerWidth),r=C(!1),u=C(!1),a=C(""),_=fe(null),f=C(!1),v=Y(()=>d.value<=768),E=Y(()=>v.value?"0":r.value?"64px":"220px"),y=()=>{d.value=window.innerWidth,document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)};me(()=>{window.addEventListener("resize",y),y()});const A=()=>{const o=document.documentElement.classList;f.value?o.add("dark"):o.remove("dark"),localStorage.setItem("theme-preference",f.value.toString())},S=()=>{const o=localStorage.getItem("theme-preference");o?f.value=o==="true":f.value=window.matchMedia("(prefers-color-scheme: dark)").matches,A()},g=C([{icon:L,title:"Base系列编码",desc:"16/32/58/62/64/85等多种编码格式",index:"1-1"},{icon:X,title:"加密算法",desc:"AES/RSA/Vigenere等加密方案",index:"3-1"},{icon:M,title:"哈希算法",desc:"MD/SHA/SHA3系列等摘要算法",index:"4-1"},{icon:M,title:"工具统计",desc:"输入输出分析与执行时间统计",index:""}]),N={"1-1":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.B),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"1-2":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.a),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"1-3":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.b),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"1-4":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.c),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"1-5":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.d),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"1-6":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.e),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"1-7":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.f),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"1-8":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.g),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"1-9":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.h),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"1-10":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.i),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"2-1":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.U),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"2-2":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.X),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"2-3":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.V),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"3-1":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.A),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"3-2":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.R),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"4-1":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.M),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"4-2":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.j),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"4-3":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.k),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"4-4":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.S),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"4-5":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.l),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"4-6":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.m),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"4-7":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.n),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"4-8":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.o),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"4-9":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.p),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"4-10":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.q),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"4-11":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.r),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"4-12":c(()=>x(()=>import("./crypto-DoVc5HiG.js").then(o=>o.s),__vite__mapDeps([0,1,2,3,4,5,6,7])))},O=o=>{a.value=o,_.value=N[o],u.value=!1};return S(),(o,e)=>{const R=P("el-icon"),l=P("el-menu-item"),T=P("el-sub-menu"),G=P("el-menu"),$=P("el-scrollbar"),se=P("el-drawer"),le=P("el-aside"),ie=P("el-avatar"),re=P("el-switch"),de=P("el-header"),ae=P("el-skeleton"),ue=P("el-divider"),_e=P("el-main"),K=P("el-container");return V(),D(K,{class:"app-container"},{default:n(()=>[k(m("div",{class:"hamburger",onClick:e[0]||(e[0]=I=>u.value=!0)},[t(R,{size:"24"},{default:n(()=>[t(w(ge))]),_:1})],512),[[H,v.value]]),t(se,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=I=>u.value=I),"with-header":!1,direction:"ltr",size:"80%",class:"mobile-drawer"},{default:n(()=>[m("div",Ie,[t(R,{class:"icon"},{default:n(()=>[t(w(J))]),_:1}),e[5]||(e[5]=m("span",null,"编码工具箱",-1))]),t($,null,{default:n(()=>[t(G,{"default-active":a.value,onSelect:O},{default:n(()=>[t(T,{index:"1"},{title:n(()=>[t(R,null,{default:n(()=>[t(w(L))]),_:1}),e[6]||(e[6]=m("span",null,"Base系列",-1))]),default:n(()=>[t(l,{index:"1-1"},{default:n(()=>e[7]||(e[7]=[s("Base16")])),_:1,__:[7]}),t(l,{index:"1-2"},{default:n(()=>e[8]||(e[8]=[s("Base32")])),_:1,__:[8]}),t(l,{index:"1-3"},{default:n(()=>e[9]||(e[9]=[s("Base58")])),_:1,__:[9]}),t(l,{index:"1-4"},{default:n(()=>e[10]||(e[10]=[s("Base62")])),_:1,__:[10]}),t(l,{index:"1-5"},{default:n(()=>e[11]||(e[11]=[s("Base64")])),_:1,__:[11]}),t(l,{index:"1-6"},{default:n(()=>e[12]||(e[12]=[s("Base64 URL")])),_:1,__:[12]}),t(l,{index:"1-7"},{default:n(()=>e[13]||(e[13]=[s("Base85")])),_:1,__:[13]}),t(l,{index:"1-8"},{default:n(()=>e[14]||(e[14]=[s("Base91")])),_:1,__:[14]}),t(l,{index:"1-9"},{default:n(()=>e[15]||(e[15]=[s("Base92")])),_:1,__:[15]}),t(l,{index:"1-10"},{default:n(()=>e[16]||(e[16]=[s("Base100")])),_:1,__:[16]})]),_:1}),t(T,{index:"2"},{title:n(()=>[t(R,null,{default:n(()=>[t(w(X))]),_:1}),e[17]||(e[17]=m("span",null,"简单加密",-1))]),default:n(()=>[t(l,{index:"2-1"},{default:n(()=>e[18]||(e[18]=[s("UU编码")])),_:1,__:[18]}),t(l,{index:"2-2"},{default:n(()=>e[19]||(e[19]=[s("XX编码")])),_:1,__:[19]}),t(l,{index:"2-3"},{default:n(()=>e[20]||(e[20]=[s("Vigenere")])),_:1,__:[20]})]),_:1}),t(T,{index:"3"},{title:n(()=>[t(R,null,{default:n(()=>[t(w(L))]),_:1}),e[21]||(e[21]=m("span",null,"高级加密",-1))]),default:n(()=>[t(l,{index:"3-1"},{default:n(()=>e[22]||(e[22]=[s("AES")])),_:1,__:[22]}),t(l,{index:"3-2"},{default:n(()=>e[23]||(e[23]=[s("RSA")])),_:1,__:[23]})]),_:1}),t(T,{index:"4"},{title:n(()=>[t(R,null,{default:n(()=>[t(w(M))]),_:1}),e[24]||(e[24]=m("span",null,"Hash算法",-1))]),default:n(()=>[t(l,{index:"4-1"},{default:n(()=>e[25]||(e[25]=[s("MD2")])),_:1,__:[25]}),t(l,{index:"4-2"},{default:n(()=>e[26]||(e[26]=[s("MD4")])),_:1,__:[26]}),t(l,{index:"4-3"},{default:n(()=>e[27]||(e[27]=[s("MD5")])),_:1,__:[27]}),t(l,{index:"4-4"},{default:n(()=>e[28]||(e[28]=[s("SHA1")])),_:1,__:[28]}),t(l,{index:"4-5"},{default:n(()=>e[29]||(e[29]=[s("SHA224")])),_:1,__:[29]}),t(l,{index:"4-6"},{default:n(()=>e[30]||(e[30]=[s("SHA256")])),_:1,__:[30]}),t(l,{index:"4-7"},{default:n(()=>e[31]||(e[31]=[s("SHA384")])),_:1,__:[31]}),t(l,{index:"4-8"},{default:n(()=>e[32]||(e[32]=[s("SHA512")])),_:1,__:[32]}),t(l,{index:"4-9"},{default:n(()=>e[33]||(e[33]=[s("SHA3-224")])),_:1,__:[33]}),t(l,{index:"4-10"},{default:n(()=>e[34]||(e[34]=[s("SHA3-256")])),_:1,__:[34]}),t(l,{index:"4-11"},{default:n(()=>e[35]||(e[35]=[s("SHA3-384")])),_:1,__:[35]}),t(l,{index:"4-12"},{default:n(()=>e[36]||(e[36]=[s("SHA3-512")])),_:1,__:[36]})]),_:1})]),_:1},8,["default-active"])]),_:1})]),_:1},8,["modelValue"]),k(t(le,{width:E.value,class:"sidebar"},{default:n(()=>[m("div",Te,[t(R,{class:"icon"},{default:n(()=>[t(w(J))]),_:1}),t(pe,{name:"fade"},{default:n(()=>[k(m("span",null,"编码工具箱",512),[[H,!r.value]])]),_:1})]),t($,null,{default:n(()=>[t(G,{"default-active":a.value,onSelect:O,collapse:r.value,class:"el-menu-vertical"},{default:n(()=>[t(T,{index:"1"},{title:n(()=>[t(R,null,{default:n(()=>[t(w(L))]),_:1}),e[37]||(e[37]=m("span",null,"Base系列",-1))]),default:n(()=>[t(l,{index:"1-1"},{default:n(()=>e[38]||(e[38]=[s("Base16")])),_:1,__:[38]}),t(l,{index:"1-2"},{default:n(()=>e[39]||(e[39]=[s("Base32")])),_:1,__:[39]}),t(l,{index:"1-3"},{default:n(()=>e[40]||(e[40]=[s("Base58")])),_:1,__:[40]}),t(l,{index:"1-4"},{default:n(()=>e[41]||(e[41]=[s("Base62")])),_:1,__:[41]}),t(l,{index:"1-5"},{default:n(()=>e[42]||(e[42]=[s("Base64")])),_:1,__:[42]}),t(l,{index:"1-6"},{default:n(()=>e[43]||(e[43]=[s("Base64 URL")])),_:1,__:[43]}),t(l,{index:"1-7"},{default:n(()=>e[44]||(e[44]=[s("Base85")])),_:1,__:[44]}),t(l,{index:"1-8"},{default:n(()=>e[45]||(e[45]=[s("Base91")])),_:1,__:[45]}),t(l,{index:"1-9"},{default:n(()=>e[46]||(e[46]=[s("Base92")])),_:1,__:[46]}),t(l,{index:"1-10"},{default:n(()=>e[47]||(e[47]=[s("Base100")])),_:1,__:[47]})]),_:1}),t(T,{index:"2"},{title:n(()=>[t(R,null,{default:n(()=>[t(w(X))]),_:1}),e[48]||(e[48]=m("span",null,"简单加密",-1))]),default:n(()=>[t(l,{index:"2-1"},{default:n(()=>e[49]||(e[49]=[s("UU编码")])),_:1,__:[49]}),t(l,{index:"2-2"},{default:n(()=>e[50]||(e[50]=[s("XX编码")])),_:1,__:[50]}),t(l,{index:"2-3"},{default:n(()=>e[51]||(e[51]=[s("Vigenere")])),_:1,__:[51]})]),_:1}),t(T,{index:"3"},{title:n(()=>[t(R,null,{default:n(()=>[t(w(L))]),_:1}),e[52]||(e[52]=m("span",null,"高级加密",-1))]),default:n(()=>[t(l,{index:"3-1"},{default:n(()=>e[53]||(e[53]=[s("AES")])),_:1,__:[53]}),t(l,{index:"3-2"},{default:n(()=>e[54]||(e[54]=[s("RSA")])),_:1,__:[54]})]),_:1}),t(T,{index:"4"},{title:n(()=>[t(R,null,{default:n(()=>[t(w(M))]),_:1}),e[55]||(e[55]=m("span",null,"Hash算法",-1))]),default:n(()=>[t(l,{index:"4-1"},{default:n(()=>e[56]||(e[56]=[s("MD2")])),_:1,__:[56]}),t(l,{index:"4-2"},{default:n(()=>e[57]||(e[57]=[s("MD4")])),_:1,__:[57]}),t(l,{index:"4-3"},{default:n(()=>e[58]||(e[58]=[s("MD5")])),_:1,__:[58]}),t(l,{index:"4-4"},{default:n(()=>e[59]||(e[59]=[s("SHA1")])),_:1,__:[59]}),t(l,{index:"4-5"},{default:n(()=>e[60]||(e[60]=[s("SHA224")])),_:1,__:[60]}),t(l,{index:"4-6"},{default:n(()=>e[61]||(e[61]=[s("SHA256")])),_:1,__:[61]}),t(l,{index:"4-7"},{default:n(()=>e[62]||(e[62]=[s("SHA384")])),_:1,__:[62]}),t(l,{index:"4-8"},{default:n(()=>e[63]||(e[63]=[s("SHA512")])),_:1,__:[63]}),t(l,{index:"4-9"},{default:n(()=>e[64]||(e[64]=[s("SHA3-224")])),_:1,__:[64]}),t(l,{index:"4-10"},{default:n(()=>e[65]||(e[65]=[s("SHA3-256")])),_:1,__:[65]}),t(l,{index:"4-11"},{default:n(()=>e[66]||(e[66]=[s("SHA3-384")])),_:1,__:[66]}),t(l,{index:"4-12"},{default:n(()=>e[67]||(e[67]=[s("SHA3-512")])),_:1,__:[67]})]),_:1})]),_:1},8,["default-active","collapse"])]),_:1}),m("div",{class:"collapse-btn",onClick:e[2]||(e[2]=I=>r.value=!r.value)},[t(R,null,{default:n(()=>[(V(),D(W(r.value?"Expand":"Fold")))]),_:1}),k(m("span",null,z(r.value?"展开":"折叠"),513),[[H,!r.value]])])]),_:1},8,["width"]),[[H,!v.value]]),t(K,{class:"main-container"},{default:n(()=>[t(de,{class:"app-header"},{default:n(()=>[m("div",Ve,[m("div",{class:"logo",onClick:e[3]||(e[3]=I=>_.value=null)},[e[68]||(e[68]=m("span",null,"编码工具箱",-1)),t(R,{class:"icon"},{default:n(()=>[t(w(J))]),_:1})]),m("div",be,[m("div",Ce,[t(ie,{size:32,icon:"User"}),e[69]||(e[69]=m("span",null,"BinRacer",-1))]),t(re,{modelValue:f.value,"onUpdate:modelValue":e[4]||(e[4]=I=>f.value=I),"active-icon":w(Re),"inactive-icon":w(Ae),"active-color":"#0a0a0a","inactive-color":"#409EFF","inline-prompt":"",onChange:A},null,8,["modelValue","active-icon","inactive-icon"])])])]),_:1}),t(_e,{class:"app-content"},{default:n(()=>[t($,null,{default:n(()=>[m("div",Oe,[(V(),D(ve,null,{default:n(()=>[_.value?(V(),D(W(_.value),{key:0})):h("",!0)]),fallback:n(()=>[t(ae,{rows:6,animated:""})]),_:1})),_.value?h("",!0):(V(),F("div",De,[m("div",Le,[e[71]||(e[71]=m("h2",{class:"welcome-title"},"编码工具集",-1)),t(ue,{class:"divider"}),e[72]||(e[72]=m("p",{class:"welcome-subtitle"},"全面的编码转换与加密解决方案",-1)),m("div",Be,[(V(!0),F(ce,null,xe(g.value,I=>(V(),F("div",{key:I.title,class:"feature-card",onClick:Xe=>O(I.index)},[m("div",He,[t(R,null,{default:n(()=>[(V(),D(W(I.icon)))]),_:2},1024)]),m("h3",Me,z(I.title),1),m("p",Ue,z(I.desc),1)],8,ke))),128))]),m("p",je,[t(R,null,{default:n(()=>[t(w(we))]),_:1}),e[70]||(e[70]=s(" 从左侧菜单选择工具开始使用 "))])])]))])]),_:1})]),_:1})]),_:1})]),_:1})}}},p={baseInterval:1e3,currentInterval:1e3,retryCount:0,maxRetries:5,isReady:!0,isReconnecting:!1,timerId:null},b=new Map,Q=[];let B=0;function Ne(){const i=new Uint8Array(16);if(typeof crypto<"u"&&crypto.getRandomValues)crypto.getRandomValues(i);else if(typeof msCrypto<"u"&&msCrypto.getRandomValues)msCrypto.getRandomValues(i);else for(let r=0;r<16;r++)i[r]=Math.floor(Math.random()*256);i[6]=i[6]&15|64,i[8]=i[8]&63|128;const d=Array.from(i).map(r=>r.toString(16).padStart(2,"0"));return[d.slice(0,4).join(""),d.slice(4,6).join(""),d.slice(6,8).join(""),d.slice(8,10).join(""),d.slice(10,16).join("")].join("-")}function $e(i){if(typeof btoa=="function")return btoa(unescape(encodeURIComponent(i)));const d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";let r="",u=0;const _=new TextEncoder().encode(i);for(;u<_.length;){const f=_[u++],v=_[u++],E=_[u++],y=f>>2,A=(f&3)<<4|v>>4;let S=(v&15)<<4|E>>6,g=E&63;isNaN(v)?S=g=64:isNaN(E)&&(g=64),r+=d.charAt(y)+d.charAt(A)+d.charAt(S)+d.charAt(g)}return r}function te(i){if(typeof atob=="function")return decodeURIComponent(escape(atob(i)));const d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";let r="",u=0;for(i=i.replace(/[^A-Za-z0-9\+\/]/g,"");u<i.length;){const f=d.indexOf(i.charAt(u++)),v=d.indexOf(i.charAt(u++)),E=d.indexOf(i.charAt(u++)),y=d.indexOf(i.charAt(u++)),A=f<<2|v>>4,S=(v&15)<<4|E>>2,g=(E&3)<<6|y;r+=String.fromCharCode(A),E!==64&&(r+=String.fromCharCode(S)),y!==64&&(r+=String.fromCharCode(g))}const a=new TextDecoder("utf-8"),_=new Uint8Array(r.length);for(let f=0;f<r.length;f++)_[f]=r.charCodeAt(f);return a.decode(_)}function Z(){if(p.retryCount>=p.maxRetries){p.isReconnecting=!1,p.isReady=!1;return}p.isReconnecting=!0,p.isReady=!1,p.retryCount++,p.currentInterval=Math.min(p.baseInterval*Math.pow(2,p.retryCount),3e4),p.timerId=setTimeout(We,p.currentInterval)}function We(){typeof CryptoToysPP<"u"&&CryptoToysPP.postMessage?(p.isReady=!0,p.isReconnecting=!1,p.retryCount=0,p.currentInterval=p.baseInterval,q()):Z()}function q(){if(B>=5||Q.length===0||!p.isReady)return;const i=Q.shift();B++;const{method:d,path:r,data:u,requestId:a,resolve:_,reject:f}=i,v=setTimeout(()=>{if(b.has(a)){const E=b.get(a);b.delete(a),B--,E.reject({code:408,message:`请求超时: ${r}`}),q()}},3e4);b.set(a,{resolve:_,reject:f,timeoutId:v,method:d,path:r});try{const y=JSON.stringify({__id:a,path:r,method:d,data:u}),A=$e(y);if(typeof CryptoToysPP<"u"&&CryptoToysPP.postMessage)CryptoToysPP.postMessage(A);else throw new Error("WebView消息通道不可用")}catch(E){clearTimeout(v),b.delete(a),B--,p.isReconnecting||Z(),f({code:503,message:"消息发送失败: "+E.message})}}function U(i,d,r={}){return new Promise((u,a)=>{if(typeof i!="string"||!i.trim()){a({code:400,message:"无效的HTTP方法"});return}if(typeof d!="string"||!d.trim()){a({code:400,message:"无效的API路径"});return}if(r&&typeof r!="object"){a({code:400,message:"数据必须是对象"});return}const _=Ne();Q.push({method:i,path:d,data:r,requestId:_,resolve:u,reject:a}),q()})}function j(i,d,r){const u=b.get(d);if(!u){console.warn(`请求 ${d} 已超时或不存在`);return}clearTimeout(u.timeoutId),b.delete(d),B--;try{r?u.resolve(i):u.reject(i)}catch(a){u.reject({code:500,message:`响应处理失败: ${a.message}`,rawResponse:i})}q()}function ze(i,d){try{const r=te(i),u=JSON.parse(r);j(u,d,!0)}catch(r){j({code:500,message:`响应解析失败: ${r.message}`,rawResponse:i},d,!1)}}function Fe(i,d){try{const r=te(i),u=JSON.parse(r);j(u,d,!1)}catch(r){j({code:500,message:`错误响应解析失败: ${r.message}`,rawResponse:i},d,!1)}}const ne={get:(i,d)=>U("GET",i,d),post:(i,d)=>U("POST",i,d),put:(i,d)=>U("PUT",i,d),del:i=>U("DELETE",i),reconnect:()=>{p.retryCount=0,p.currentInterval=p.baseInterval,Z()},getStatus:()=>({isReady:p.isReady,isReconnecting:p.isReconnecting,nextRetry:p.currentInterval,retryCount:p.retryCount}),reset:()=>{p.retryCount=0,p.currentInterval=p.baseInterval},resolveInvoke:ze,rejectInvoke:Fe};window.rest=ne;window.rest=ne;const oe=ye(qe);oe.use(Ee);oe.mount("#app");
