const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/crypto-wHz5JnPM.js","assets/element-plus-icons-DLmbuT-0.js","assets/vue-D96eVTgE.js","assets/element-plus-C_RnptQt.js","assets/lodash-vendor-S0Y0Up6J.js","assets/vendor-wFbPd71c.js","assets/element-plus-BIHauc6T.css","assets/crypto-sAvCco0F.css"])))=>i.map(i=>d[i]);
import{r as I,s as ye,j as q,B as Ee,g as L,b,o as T,w as t,e,d as a,u as S,t as r,f as _,c as V,aw as Ae,T as G,F as Y,l as ee,M as be,N as Se,ax as h,I as Re,at as xe}from"./vue-D96eVTgE.js";import{i as Ce}from"./element-plus-C_RnptQt.js";import{V as D,k as te,T as ne,m as X,p as Te,W as Pe,X as we,l as Ie,v as Le,M as Ve,Y as De,Z as Oe,c as Be}from"./element-plus-icons-DLmbuT-0.js";import"./lodash-vendor-S0Y0Up6J.js";import"./vendor-wFbPd71c.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))d(c);new MutationObserver(c=>{for(const m of c)if(m.type==="childList")for(const u of m.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&d(u)}).observe(document,{childList:!0,subtree:!0});function l(c){const m={};return c.integrity&&(m.integrity=c.integrity),c.referrerPolicy&&(m.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?m.credentials="include":c.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function d(c){if(c.ep)return;c.ep=!0;const m=l(c);fetch(c.href,m)}})();const ke="modulepreload",He=function(o){return"/"+o},se={},v=function(i,l,d){let c=Promise.resolve();if(l&&l.length>0){let u=function(E){return Promise.all(E.map(x=>Promise.resolve(x).then(C=>({status:"fulfilled",value:C}),C=>({status:"rejected",reason:C}))))};document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),s=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));c=u(l.map(E=>{if(E=He(E),E in se)return;se[E]=!0;const x=E.endsWith(".css"),C=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${C}`))return;const R=document.createElement("link");if(R.rel=x?"stylesheet":ke,x||(R.as="script"),R.crossOrigin="",R.href=E,s&&R.setAttribute("nonce",s),document.head.appendChild(R),x)return new Promise((B,N)=>{R.addEventListener("load",B),R.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${E}`)))})}))}function m(u){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=u,window.dispatchEvent(g),!g.defaultPrevented)throw u}return c.then(u=>{for(const g of u||[])g.status==="rejected"&&m(g.reason);return i().catch(m)})},Ue={class:"sidebar-header"},Me={class:"logo-icon"},Ne={class:"header-content"},je={class:"toolbar"},ze={class:"el-dropdown-link"},Fe={class:"user-info"},qe={class:"content-card"},Xe={key:0,class:"workspace-container"},$e={class:"loading-container"},Je={key:1,class:"modern-welcome"},We={class:"hero-section"},Ke={class:"hero-title"},Qe={class:"gradient-text"},Ze={class:"hero-subtitle"},Ge={class:"hero-actions"},Ye={class:"section-header"},et={class:"features-grid"},tt=["onClick"],nt={class:"feature-header"},st={class:"feature-desc"},ot={class:"feature-meta"},at={class:"stats-section"},it={class:"stats-card"},rt={class:"stats-content"},lt={class:"stats-label"},ct={class:"stats-card"},dt={class:"stats-content"},ut={class:"stats-label"},_t={class:"stats-card"},mt={class:"stats-content"},pt={class:"stats-label"},ft={__name:"App",setup(o){const i=I(!1),l=I(""),d=ye(null),c=I(!1),m=I(null),u=I(localStorage.getItem("lang")||"en");Re("globalLang",u);const g={zh:{appName:"CryptoToysPP",appSlogan:"全面的编码转换、加密与哈希解决方案",baseSeries:"Base系列",base16:"Base16",base32:"Base32",base58:"Base58",base62:"Base62",base64:"Base64",base64Url:"Base64 URL",base85:"Base85",base91:"Base91",base92:"Base92",base100:"Base100",simpleEncryption:"简单加密",uuCode:"UU编码",xxCode:"XX编码",vigenere:"Vigenere",advancedEncryption:"高级加密",aes:"AES",rsa:"RSA",hashAlgorithm:"Hash算法",md2:"MD2",md4:"MD4",md5:"MD5",sha1:"SHA1",sha224:"SHA224",sha256:"SHA256",sha384:"SHA384",sha512:"SHA512",sha3_224:"SHA3-224",sha3_256:"SHA3-256",sha3_384:"SHA3-384",sha3_512:"SHA3-512",exploreTools:"探索工具",commonFeatures:"常用功能",coreFeatures:"核心功能",loading:"加载中...",encodingTools:"编码工具",encryptionStandards:"加密标准",hashAlgorithms:"哈希算法",baseEncoding:"Base系列编码",advancedEncryptionTitle:"高级加密算法",classicEncryption:"经典加密",hashAlgorithmsTitle:"哈希算法"},en:{appName:"CryptoToysPP",appSlogan:"Comprehensive encoding, encryption and hashing solution",baseSeries:"Base Series",base16:"Base16",base32:"Base32",base58:"Base58",base62:"Base62",base64:"Base64",base64Url:"Base64 URL",base85:"Base85",base91:"Base91",base92:"Base92",base100:"Base100",simpleEncryption:"Simple Encryption",uuCode:"UU Encoding",xxCode:"XX Encoding",vigenere:"Vigenere",advancedEncryption:"Advanced Encryption",aes:"AES",rsa:"RSA",hashAlgorithm:"Hash Algorithms",md2:"MD2",md4:"MD4",md5:"MD5",sha1:"SHA1",sha224:"SHA224",sha256:"SHA256",sha384:"SHA384",sha512:"SHA512",sha3_224:"SHA3-224",sha3_256:"SHA3-256",sha3_384:"SHA3-384",sha3_512:"SHA3-512",exploreTools:"Explore Tools",commonFeatures:"Common Features",coreFeatures:"Core Features",loading:"Loading...",encodingTools:"Encoding Tools",encryptionStandards:"Encryption Standards",hashAlgorithms:"Hash Algorithms",baseEncoding:"Base Encoding",advancedEncryptionTitle:"Advanced Encryption",classicEncryption:"Classic Encryption",hashAlgorithmsTitle:"Hash Algorithms"}},s=n=>g[u.value][n]||n,E=q(()=>i.value?"64px":"220px"),x={"1-1":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.B),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"1-2":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.a),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"1-3":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.b),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"1-4":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.c),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"1-5":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.d),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"1-6":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.e),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"1-7":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.f),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"1-8":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.g),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"1-9":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.h),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"1-10":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.i),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"2-1":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.U),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"2-2":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.X),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"2-3":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.V),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"3-1":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.A),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"3-2":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.R),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"4-1":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.M),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"4-2":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.j),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"4-3":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.k),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"4-4":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.S),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"4-5":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.l),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"4-6":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.m),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"4-7":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.n),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"4-8":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.o),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"4-9":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.p),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"4-10":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.q),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"4-11":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.r),__vite__mapDeps([0,1,2,3,4,5,6,7]))),"4-12":h(()=>v(()=>import("./crypto-wHz5JnPM.js").then(n=>n.s),__vite__mapDeps([0,1,2,3,4,5,6,7])))};Ee(()=>{N()});const C=n=>{u.value=n,localStorage.setItem("lang",n)},R=q(()=>u.value==="zh"?"中文":"English"),B=()=>{const n=document.documentElement.classList;c.value?n.add("dark"):n.remove("dark"),localStorage.setItem("theme-preference",c.value.toString())},N=()=>{const n=localStorage.getItem("theme-preference");n?c.value=n==="true":c.value=window.matchMedia("(prefers-color-scheme: dark)").matches,B()},re=q(()=>[{icon:D,title:s("baseEncoding"),desc:u.value==="zh"?"全面的Base编码/解码工具，支持16种不同进制转换":"Comprehensive base encoding/decoding tools, support 16 different bases",tags:["Base16","Base32","Base64","Base85","Base100"],index:"1-1"},{icon:D,title:s("advancedEncryptionTitle"),desc:u.value==="zh"?"专业的AES、RSA加密工具，支持多种工作模式和填充方案":"Professional AES, RSA encryption tools with multiple modes and padding schemes",tags:["AES-256","RSA","CBC","PKCS7"],index:"3-1"},{icon:te,title:s("classicEncryption"),desc:u.value==="zh"?"经典加密方法，包括UUEncode、XXEncode和Vigenere密码":"Classic encryption methods including UUEncode, XXEncode and Vigenere",tags:["UU","XX","Vigenere"],index:"2-1"},{icon:ne,title:s("hashAlgorithmsTitle"),desc:u.value==="zh"?"全面的哈希函数支持，从MD5到最新的SHA3系列算法":"Comprehensive hash functions from MD5 to the latest SHA3 series",tags:["MD5","SHA256","SHA512","SHA3"],index:"4-1"}]),le=()=>{m.value.scrollIntoView({behavior:"smooth"})},j=n=>{l.value=n,d.value=x[n]};return(n,y)=>{const A=b("el-icon"),f=b("el-menu-item"),k=b("el-sub-menu"),ce=b("el-menu"),W=b("el-scrollbar"),de=b("el-aside"),K=b("el-dropdown-item"),ue=b("el-dropdown-menu"),_e=b("el-dropdown"),me=b("el-avatar"),pe=b("el-switch"),fe=b("el-header"),Q=b("el-button"),he=b("el-divider"),ve=b("el-tag"),ge=b("el-main"),Z=b("el-container");return T(),L(Z,{class:"app-container"},{default:t(()=>[e(de,{width:E.value,class:"sidebar"},{default:t(()=>[a("div",Ue,[a("div",Me,[e(A,{class:"icon"},{default:t(()=>[e(S(X))]),_:1})]),a("span",null,r(s("appName")),1)]),e(W,null,{default:t(()=>[e(ce,{"default-active":l.value,onSelect:j,class:"el-menu-vertical"},{default:t(()=>[e(k,{index:"1"},{title:t(()=>[e(A,null,{default:t(()=>[e(S(D))]),_:1}),a("span",null,r(s("baseSeries")),1)]),default:t(()=>[e(f,{index:"1-1"},{default:t(()=>[_(r(s("base16")),1)]),_:1}),e(f,{index:"1-2"},{default:t(()=>[_(r(s("base32")),1)]),_:1}),e(f,{index:"1-3"},{default:t(()=>[_(r(s("base58")),1)]),_:1}),e(f,{index:"1-4"},{default:t(()=>[_(r(s("base62")),1)]),_:1}),e(f,{index:"1-5"},{default:t(()=>[_(r(s("base64")),1)]),_:1}),e(f,{index:"1-6"},{default:t(()=>[_(r(s("base64Url")),1)]),_:1}),e(f,{index:"1-7"},{default:t(()=>[_(r(s("base85")),1)]),_:1}),e(f,{index:"1-8"},{default:t(()=>[_(r(s("base91")),1)]),_:1}),e(f,{index:"1-9"},{default:t(()=>[_(r(s("base92")),1)]),_:1}),e(f,{index:"1-10"},{default:t(()=>[_(r(s("base100")),1)]),_:1})]),_:1}),e(k,{index:"2"},{title:t(()=>[e(A,null,{default:t(()=>[e(S(te))]),_:1}),a("span",null,r(s("simpleEncryption")),1)]),default:t(()=>[e(f,{index:"2-1"},{default:t(()=>[_(r(s("uuCode")),1)]),_:1}),e(f,{index:"2-2"},{default:t(()=>[_(r(s("xxCode")),1)]),_:1}),e(f,{index:"2-3"},{default:t(()=>[_(r(s("vigenere")),1)]),_:1})]),_:1}),e(k,{index:"3"},{title:t(()=>[e(A,null,{default:t(()=>[e(S(D))]),_:1}),a("span",null,r(s("advancedEncryption")),1)]),default:t(()=>[e(f,{index:"3-1"},{default:t(()=>[_(r(s("aes")),1)]),_:1}),e(f,{index:"3-2"},{default:t(()=>[_(r(s("rsa")),1)]),_:1})]),_:1}),e(k,{index:"4"},{title:t(()=>[e(A,null,{default:t(()=>[e(S(ne))]),_:1}),a("span",null,r(s("hashAlgorithm")),1)]),default:t(()=>[e(f,{index:"4-1"},{default:t(()=>[_(r(s("md2")),1)]),_:1}),e(f,{index:"4-2"},{default:t(()=>[_(r(s("md4")),1)]),_:1}),e(f,{index:"4-3"},{default:t(()=>[_(r(s("md5")),1)]),_:1}),e(f,{index:"4-4"},{default:t(()=>[_(r(s("sha1")),1)]),_:1}),e(f,{index:"4-5"},{default:t(()=>[_(r(s("sha224")),1)]),_:1}),e(f,{index:"4-6"},{default:t(()=>[_(r(s("sha256")),1)]),_:1}),e(f,{index:"4-7"},{default:t(()=>[_(r(s("sha384")),1)]),_:1}),e(f,{index:"4-8"},{default:t(()=>[_(r(s("sha512")),1)]),_:1}),e(f,{index:"4-9"},{default:t(()=>[_(r(s("sha3_224")),1)]),_:1}),e(f,{index:"4-10"},{default:t(()=>[_(r(s("sha3_256")),1)]),_:1}),e(f,{index:"4-11"},{default:t(()=>[_(r(s("sha3_384")),1)]),_:1}),e(f,{index:"4-12"},{default:t(()=>[_(r(s("sha3_512")),1)]),_:1})]),_:1})]),_:1},8,["default-active"])]),_:1})]),_:1},8,["width"]),e(Z,{class:"main-container"},{default:t(()=>[e(fe,{class:"app-header"},{default:t(()=>[a("div",Ne,[a("div",{class:"logo",onClick:y[0]||(y[0]=P=>d.value=null)},[e(A,{class:"icon"},{default:t(()=>[e(S(X))]),_:1}),a("span",null,r(s("appName")),1)]),a("div",je,[e(_e,{trigger:"click",onCommand:C,class:"lang-switcher"},{dropdown:t(()=>[e(ue,null,{default:t(()=>[e(K,{command:"zh"},{default:t(()=>y[4]||(y[4]=[_("中文")])),_:1,__:[4]}),e(K,{command:"en"},{default:t(()=>y[5]||(y[5]=[_("English")])),_:1,__:[5]})]),_:1})]),default:t(()=>[a("span",ze,[e(A,null,{default:t(()=>y[3]||(y[3]=[a("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},[a("path",{fill:"currentColor",d:"m18.5 10l4.4 11h-2.155l-1.201-3h-4.09l-1.199 3h-2.154L16.5 10h2zM10 2v2h6v2h-1.968a18.222 18.222 0 0 1-3.62 6.301a14.864 14.864 0 0 0 2.336 1.707l-.751 1.878A17.015 17.015 0 0 1 9 13.725a16.676 16.676 0 0 1-6.201 3.548l-.536-1.929a14.7 14.7 0 0 0 5.327-3.042A18.078 18.078 0 0 1 4.767 8h2.24A16.032 16.032 0 0 0 9 10.877a16.165 16.165 0 0 0 2.91-4.876L2 6V4h6V2h2zm7.5 10.885L16.253 16h2.492L17.5 12.885z"})],-1)])),_:1,__:[3]}),_(" "+r(R.value)+" ",1),e(A,{class:"el-icon--right"},{default:t(()=>[e(S(Te))]),_:1})])]),_:1}),a("div",Fe,[e(me,{size:32,icon:"User",class:"user-avatar"}),y[6]||(y[6]=a("span",null,"BinRacer",-1))]),e(pe,{modelValue:c.value,"onUpdate:modelValue":y[1]||(y[1]=P=>c.value=P),"active-icon":S(we),"inactive-icon":S(Pe),"active-color":"#0a0a0a","inactive-color":"#409EFF","inline-prompt":"",onChange:B},null,8,["modelValue","active-icon","inactive-icon"])])])]),_:1}),e(ge,{class:"app-content"},{default:t(()=>[e(W,null,{default:t(()=>[a("div",qe,[d.value?(T(),V("div",Xe,[(T(),L(Ae,null,{default:t(()=>[(T(),L(G(d.value)))]),fallback:t(()=>[a("div",$e,[e(A,{class:"loading-icon"},{default:t(()=>[e(S(Ie))]),_:1}),a("span",null,r(s("loading")),1)])]),_:1}))])):(T(),V("div",Je,[a("div",We,[a("h1",Ke,[a("span",Qe,r(s("appName")),1),e(A,{class:"icon"},{default:t(()=>[e(S(X))]),_:1})]),a("p",Ze,r(s("appSlogan")),1),a("div",Ge,[e(Q,{type:"primary",round:"",onClick:le},{default:t(()=>[e(A,null,{default:t(()=>[e(S(Le))]),_:1}),a("span",null,r(s("exploreTools")),1)]),_:1}),e(Q,{round:"",onClick:y[2]||(y[2]=P=>j("3-1"))},{default:t(()=>[e(A,null,{default:t(()=>[e(S(Ve))]),_:1}),a("span",null,r(s("commonFeatures")),1)]),_:1})])]),a("div",{class:"features-section",ref_key:"featuresRef",ref:m},[a("div",Ye,[e(he,null,{default:t(()=>[e(A,null,{default:t(()=>[e(S(De))]),_:1}),_(" "+r(s("coreFeatures")),1)]),_:1})]),a("div",et,[(T(!0),V(Y,null,ee(re.value,(P,z)=>(T(),V("div",{key:z,class:"feature-card",onClick:F=>j(P.index),style:be({"animation-delay":`${z*.1}s`})},[a("div",nt,[a("div",{class:Se(["feature-icon",`icon-${z+1}`])},[e(A,null,{default:t(()=>[(T(),L(G(P.icon)))]),_:2},1024)],2),a("h3",null,r(P.title),1)]),a("p",st,r(P.desc),1),a("div",ot,[(T(!0),V(Y,null,ee(P.tags,F=>(T(),L(ve,{key:F,effect:"plain",size:"small"},{default:t(()=>[_(r(F),1)]),_:2},1024))),128))])],12,tt))),128))])],512),a("div",at,[a("div",it,[e(A,{class:"stats-icon"},{default:t(()=>[e(S(Oe))]),_:1}),a("div",rt,[y[7]||(y[7]=a("div",{class:"stats-value"},"20+",-1)),a("div",lt,r(s("encodingTools")),1)])]),a("div",ct,[e(A,{class:"stats-icon"},{default:t(()=>[e(S(D))]),_:1}),a("div",dt,[y[8]||(y[8]=a("div",{class:"stats-value"},"8",-1)),a("div",ut,r(s("encryptionStandards")),1)])]),a("div",_t,[e(A,{class:"stats-icon"},{default:t(()=>[e(S(Be))]),_:1}),a("div",mt,[y[9]||(y[9]=a("div",{class:"stats-value"},"12",-1)),a("div",pt,r(s("hashAlgorithms")),1)])])])]))])]),_:1})]),_:1})]),_:1})]),_:1})}}},p={baseInterval:1e3,currentInterval:1e3,retryCount:0,maxRetries:5,isReady:!0,isReconnecting:!1,timerId:null},w=new Map,$=[];let O=0;function ht(){const o=new Uint8Array(16);if(typeof crypto<"u"&&crypto.getRandomValues)crypto.getRandomValues(o);else if(typeof msCrypto<"u"&&msCrypto.getRandomValues)msCrypto.getRandomValues(o);else for(let l=0;l<16;l++)o[l]=Math.floor(Math.random()*256);o[6]=o[6]&15|64,o[8]=o[8]&63|128;const i=Array.from(o).map(l=>l.toString(16).padStart(2,"0"));return[i.slice(0,4).join(""),i.slice(4,6).join(""),i.slice(6,8).join(""),i.slice(8,10).join(""),i.slice(10,16).join("")].join("-")}function vt(o){if(typeof btoa=="function")return btoa(unescape(encodeURIComponent(o)));const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";let l="",d=0;const m=new TextEncoder().encode(o);for(;d<m.length;){const u=m[d++],g=m[d++],s=m[d++],E=u>>2,x=(u&3)<<4|g>>4;let C=(g&15)<<4|s>>6,R=s&63;isNaN(g)?C=R=64:isNaN(s)&&(R=64),l+=i.charAt(E)+i.charAt(x)+i.charAt(C)+i.charAt(R)}return l}function oe(o){if(typeof atob=="function")return decodeURIComponent(escape(atob(o)));const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";let l="",d=0;for(o=o.replace(/[^A-Za-z0-9\+\/]/g,"");d<o.length;){const u=i.indexOf(o.charAt(d++)),g=i.indexOf(o.charAt(d++)),s=i.indexOf(o.charAt(d++)),E=i.indexOf(o.charAt(d++)),x=u<<2|g>>4,C=(g&15)<<4|s>>2,R=(s&3)<<6|E;l+=String.fromCharCode(x),s!==64&&(l+=String.fromCharCode(C)),E!==64&&(l+=String.fromCharCode(R))}const c=new TextDecoder("utf-8"),m=new Uint8Array(l.length);for(let u=0;u<l.length;u++)m[u]=l.charCodeAt(u);return c.decode(m)}function J(){if(p.retryCount>=p.maxRetries){p.isReconnecting=!1,p.isReady=!1;return}p.isReconnecting=!0,p.isReady=!1,p.retryCount++,p.currentInterval=Math.min(p.baseInterval*Math.pow(2,p.retryCount),3e4),p.timerId=setTimeout(gt,p.currentInterval)}function gt(){typeof CryptoToysPP<"u"&&CryptoToysPP.postMessage?(p.isReady=!0,p.isReconnecting=!1,p.retryCount=0,p.currentInterval=p.baseInterval,M()):J()}function M(){if(O>=5||$.length===0||!p.isReady)return;const o=$.shift();O++;const{method:i,path:l,data:d,requestId:c,resolve:m,reject:u}=o,g=setTimeout(()=>{if(w.has(c)){const s=w.get(c);w.delete(c),O--,s.reject({code:408,message:`请求超时: ${l}`}),M()}},3e4);w.set(c,{resolve:m,reject:u,timeoutId:g,method:i,path:l});try{const E=JSON.stringify({__id:c,path:l,method:i,data:d}),x=vt(E);if(typeof CryptoToysPP<"u"&&CryptoToysPP.postMessage)CryptoToysPP.postMessage(x);else throw new Error("WebView消息通道不可用")}catch(s){clearTimeout(g),w.delete(c),O--,p.isReconnecting||J(),u({code:503,message:"消息发送失败: "+s.message})}}function H(o,i,l={}){return new Promise((d,c)=>{if(typeof o!="string"||!o.trim()){c({code:400,message:"无效的HTTP方法"});return}if(typeof i!="string"||!i.trim()){c({code:400,message:"无效的API路径"});return}if(l&&typeof l!="object"){c({code:400,message:"数据必须是对象"});return}const m=ht();$.push({method:o,path:i,data:l,requestId:m,resolve:d,reject:c}),M()})}function U(o,i,l){const d=w.get(i);if(!d){console.warn(`请求 ${i} 已超时或不存在`);return}clearTimeout(d.timeoutId),w.delete(i),O--;try{l?d.resolve(o):d.reject(o)}catch(c){d.reject({code:500,message:`响应处理失败: ${c.message}`,rawResponse:o})}M()}function yt(o,i){try{const l=oe(o),d=JSON.parse(l);U(d,i,!0)}catch(l){U({code:500,message:`响应解析失败: ${l.message}`,rawResponse:o},i,!1)}}function Et(o,i){try{const l=oe(o),d=JSON.parse(l);U(d,i,!1)}catch(l){U({code:500,message:`错误响应解析失败: ${l.message}`,rawResponse:o},i,!1)}}const ae={get:(o,i)=>H("GET",o,i),post:(o,i)=>H("POST",o,i),put:(o,i)=>H("PUT",o,i),del:o=>H("DELETE",o),reconnect:()=>{p.retryCount=0,p.currentInterval=p.baseInterval,J()},getStatus:()=>({isReady:p.isReady,isReconnecting:p.isReconnecting,nextRetry:p.currentInterval,retryCount:p.retryCount}),reset:()=>{p.retryCount=0,p.currentInterval=p.baseInterval},resolveInvoke:yt,rejectInvoke:Et};window.rest=ae;window.rest=ae;const ie=xe(ft);ie.use(Ce);ie.mount("#app");
